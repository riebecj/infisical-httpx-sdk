# Base

[Infisical HTTPX SDK Documentation](../../../README.md#infisical-httpx-sdk-documentation) / `src` / [Infisical](../index.md#infisical) / [Resources](./index.md#resources) / Base

> Auto-generated documentation for [src.infisical.resources.base](https://github.com/riebecj/infisical-httpx-sdk/blob/main/src/infisical/resources/base.py) module.

- [Base](#base)
  - [InfisicalAPI](#infisicalapi)
  - [InfisicalResourceRequest](#infisicalresourcerequest)

## InfisicalAPI

[Show source in base.py:26](https://github.com/riebecj/infisical-httpx-sdk/blob/main/src/infisical/resources/base.py#L26)

Base class for Infisical API resources.

This class provides common functionality for all Infisical resources, such as formatting URLs,
raising resource errors, and verifying required parameters. It is not meant to be used directly,
but rather as a base class for the specific resource classes.

To implement a new resource, inherit from this class and implement the required methods.
The `base_uri` attribute should be set to the base URI of the resource. The resource-specific methods
should be named according to the names designated in https://infisical.com/docs/api-reference/overview/introduction.
For example, the `Retrieve` GET request would have a method named `retrieve`. In the list below, we just use
placeholder names for the functions, but the real functions should use the actual names from the API documentation.

The function signature should be defined as follows, which is dependent on the type of HTTP request:
- GET: `def get_method(self, arg1, arg2, **params: Unpack[QueryParams]) -> BaseModel`
- POST: `def post_method(self, request_model: RequestModel) -> BaseModel`
- PUT: `def put_method(self, request_model: RequestModel) -> BaseModel`
- PATCH: `def patch_method(self, request_model: RequestModel) -> BaseModel`
- DELETE: `def delete_method(self, request_model: RequestModel) -> BaseModel`

The `QueryParams` should be a `TypedDict` that defines the query parameters for the specific API URI, the
`RequestModel` should be a Pydantic `BaseModel` that defines the request body for the specific API URI which is
generated by the `model_dump` method, and the return type should be a Pydantic `BaseModel` that defines the
response body for the specific API URI.

NOTE: In the GET signature above, `arg1` and `arg2` represent path parameters within the URL, while `params` are
    the optional query parameters. If any of the query parameters are required, they should be added to the
    `required_params` list in the `verify_required_params` call inside the function.

A typical method implementation would look like this:

```python
def list_my_resources(self, name: str, **params: Unpack[ResourceQueryParams]) -> ResourceList:
    # Only log INFO once per request to avoid clutter
    self.logger.info("Listing resources with params %s", params)
    # Verify that the required parameters are present, typically the workspaceId and environment
    self.verify_required_params(required_params=["workspaceId", "environment"], params=params)
    # Format the URL with the resource name and parameters
    url = self._format_url(f"/{name}")
    # Create the request with the formatted URL and parameters
    request = self.client.create_request(
        method="get", url=url, params=params,
    )
    # Return `handle_request` from the client with the request and expected response model(s)
    return self.client.handle_request(request=request, expected_responses={"resources": ResourceList})
```

#### Signature

```python
class InfisicalAPI:
    def __init__(self, client: SyncOrAsyncClient) -> None: ...
```

### InfisicalAPI()._format_url

[Show source in base.py:82](https://github.com/riebecj/infisical-httpx-sdk/blob/main/src/infisical/resources/base.py#L82)

Generate the full URL for the resource.

#### Signature

```python
def _format_url(self, uri: str) -> str: ...
```

### InfisicalAPI().raise_resource_error

[Show source in base.py:94](https://github.com/riebecj/infisical-httpx-sdk/blob/main/src/infisical/resources/base.py#L94)

Raise an error for the resource.

#### Signature

```python
def raise_resource_error(self, message: str) -> None: ...
```

### InfisicalAPI().verify_required_params

[Show source in base.py:98](https://github.com/riebecj/infisical-httpx-sdk/blob/main/src/infisical/resources/base.py#L98)

Verify that the required parameters are present.

The `required_params` list should contain the names of the parameters from the method's
`**params: Unpack[QueryParams]` argument. The `params` dictionary should contain all the optional
query parameters passed to the method.

#### Arguments

- `required_params` *list[str]* - List of required parameters.
- `params` *dict* - Dictionary of parameters to verify.

#### Signature

```python
def verify_required_params(self, required_params: list[str], params: dict) -> None: ...
```



## InfisicalResourceRequest

[Show source in base.py:13](https://github.com/riebecj/infisical-httpx-sdk/blob/main/src/infisical/resources/base.py#L13)

Base model for Infisical resource requests.

This model is used to define the request body for Infisical resources. It includes common fields
such as `workspaceId`, `environment`, and `projectId`. The `Config` class is used to set the
alias generator and allow population by field name.

#### Signature

```python
class InfisicalResourceRequest(BaseModel): ...
```